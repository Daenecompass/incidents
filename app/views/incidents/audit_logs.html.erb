<div style="display: grid; grid-template-columns: 13% 87%; grid-column-gap: 2%;">
  <div>
    <%= render 'shared/menu' %>
  </div>

  <div>
    <nav class="breadcrumb">
      <ul>
        <li><a href="<%= incidents_path %>"> All Incidents </a></li>
        <li><a href="<%= incident_path(@incident) %>"><%= @incident.name %></a></li>
        <li class="is-active"><a>Audit Logs</a></li>
      </ul>
    </nav>

    <div class="content">
        <h2 class="title is-4">Audit Logs</h2>
    </div>

    <% if @logs.empty? %>
        No logs
    <% else %>
        <table class="audit-logs-table stripe hover">
            <thead>
                <tr>
                    <th>Time</th>
                    <th>User</th>
                    <th>Field</th>
                    <th>Before</th>
                    <th>After</th>
                </tr>
            </thead>
            <tbody>
                <% @logs.each do |log| %>
                    <tr>
                        <td><%= log[:time] %></td>
                        <td><%= log[:username] %></td>
                        <td><%= log[:field] %></td>
                        <td><%= log[:before] %></td>
                        <td><%= log[:after] %></td>
                    </tr>
                <% end %>
            </tbody>
        </table>
    <% end %>
  </div>
</div>
<script>
  $(document).ready(function() {
    $(".audit-logs-table").DataTable({
      "pagingType": "simple_numbers",
      "language": { search: "" }
    });

    // style datatable search inputs
    $(".dataTables_filter input").addClass("input");
    $(".dataTables_filter input").attr("placeholder", "Search");
  });
</script>
