<p id="notice"><%= notice %></p>

<h1><%= @ticket.name %> > Observables</h1>

<a href=".">Details</a>&nbsp;&nbsp;
<a href="/tickets/<%= @ticket.id =%>/observables"> Observables (<%= @ticket.observables.count %>) </a>&nbsp;&nbsp;
<a href="/tickets/<%= @ticket.id =%>/attachments">Attachments (<%= @ticket.attachments.count =%>)</a>&nbsp;&nbsp;
<a href="/tickets/<%= @ticket.id =%>/children"> Child Tickets (<%= @ticket.children.count %>) </a>&nbsp;&nbsp;
<a href="/tickets/<%= @ticket.id =%>/comments"> Comments (<%= @ticket.comments.count %>) </a>&nbsp;&nbsp;

<br /> <br />

<% if @ticket.observables.empty? %>
    No observables
    <br />
<% else %>
<table>
  <thead>
    <tr>
      <th>Observable</th>
      <th>User</th>
      <th>Ticket</th>
      <th>Description</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @observables.each do |observable| %>
      <tr>
        <td><%= observable.observable %></td>
        <td><%= observable.user %></td>
        <td><%= observable.ticket %></td>
        <td><%= observable.description %></td>
        <td><%= link_to 'Show', observable %></td>
        <td><%= link_to 'Edit', edit_observable_path(observable) %></td>
        <td><%= link_to 'Destroy', observable, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>
<% end %>

<br>

<%= link_to 'New Observable', new_ticket_observable_path(@ticket, @observable) %>
